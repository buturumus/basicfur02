{# primepage/upperbar.html #}

<nav 
  id="upper-bar" 
  class="navbar navbar-expand-md navbar-dark"
>
  <!-- brand -->
    <a 
      class="navbar-brand" 
      href="#"
    >
      {{ brand }}
  </a>
  <!-- adapt.btn -->
    <button 
      class="navbar-toggler" 
      type="button" 
      data-toggle="collapse" 
      data-target="#navbar-continue" 
    >
      <span class="navbar-toggler-icon"></span>
    </button>
  <!-- continue -->
  <div 
    id="navbar-continue" 
    class="collapse navbar-collapse"
  >

    {% if user.is_authenticated %}
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a 
            id="user-menu"
            class="nav-link dropdown-toggle" 
            href="#" 
            data-toggle = "dropdown" 
          >
            {{ user.username }}
            &nbsp;&nbsp;
            &nbsp;&nbsp;
          </a>
          <div 
            class="dropdown-menu dropdown-menu-right" 
          >
            {% comment %}
              <a class="dropdown-item" href="{% url 'password_change' %}">
                Change password
              </a>
            {% endcomment %}
            <div class="dropdown-divider"></div>
            <a 
              class="dropdown-item" 
              href="{% url 'logout' %}"
            >
              Log out
            </a>
          </div>
        </li>
      </ul>

    {% else %}
      <form 
        class="form-inline ml-auto" 
      >
        <a 
          class="btn btn-secondary" 
          href="{% url 'login' %}"
        >
          Log in
        </a>
        {% comment %}
          <a class="btn btn-primary ml-2" href="{% url 'signup' %}"></a>
            Sign up
          </a> 
        {% endcomment %}
      </form>
    {% endif %}

  </div>
</nav> <!-- / upper navbar -->

<script type="text/javascript">
  $(document).ready(function () {
    $('#sidebar-collapse').on('click', function () {
      $('#sidebar').toggleClass('active');
    });
  });
</script>
<script>
  if ($("#upper-bar").height() > $('#godown').height()) 
    $('#godown').height($("#upper-bar").height() + 5);
  $("#upper-bar").resize(function () {
    $('#godown').height($("#upper-bar").height() + 5);
  });
</script>

